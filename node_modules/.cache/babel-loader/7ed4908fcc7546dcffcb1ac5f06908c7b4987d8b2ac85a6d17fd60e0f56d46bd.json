{"ast":null,"code":"import { Enviroment } from '../../../environment';\nimport { Api } from '../axios-config';\nconst getAll = async (page = 1, filter = '') => {\n  try {\n    const urlRelativa = `/cidades?_page=${page}&_limit=${Enviroment.LIMITE_DE_LINHAS}&nome_like=${filter}`;\n    const {\n      data,\n      headers\n    } = await Api.get(urlRelativa);\n    if (data) {\n      return {\n        data,\n        totalCount: headers['x-total-count'] ? Number(headers['x-total-count']) : 0\n      };\n    }\n    return new Error('Erro ao consultar o getAll.');\n  } catch (error) {\n    console.error(error);\n    return new Error(error.message || 'Erro ao consultar o getAll: ');\n  }\n};\nconst getById = async id => {\n  try {\n    const urlRelativa = `/cidades/${id}`;\n    const {\n      data\n    } = await Api.get(urlRelativa);\n    if (data) {\n      return data;\n    }\n    return new Error('Erro ao consultar via getById.');\n  } catch (error) {\n    console.error(error);\n    return new Error(error.message || 'Erro ao consultar via getById.');\n  }\n};\nconst create = async dados => {\n  try {\n    const {\n      data\n    } = await Api.post('/cidades', dados);\n    if (data) {\n      return data.id;\n    }\n    return new Error('Erro ao criar o registro.');\n  } catch (error) {\n    console.error(error);\n    return new Error(error.message || 'Erro ao criar o registro.');\n  }\n};\nconst updateById = async (id, dados) => {\n  try {\n    const urlRelativa = `/cidades/${id}`;\n    await Api.put(urlRelativa, dados);\n  } catch (error) {\n    console.error(error);\n    return new Error(error.message || 'Erro ao atualizar registro.');\n  }\n};\nconst deleteById = async id => {\n  try {\n    const urlRelativa = `/cidades/${id}`;\n    await Api.delete(urlRelativa);\n  } catch (error) {\n    console.error(error);\n    return new Error(error.message || 'Erro ao excluir registro.');\n  }\n};\nexport const CidadesService = {\n  getAll,\n  getById,\n  create,\n  updateById,\n  deleteById\n};","map":{"version":3,"names":["Enviroment","Api","getAll","page","filter","urlRelativa","LIMITE_DE_LINHAS","data","headers","get","totalCount","Number","Error","error","console","message","getById","id","create","dados","post","updateById","put","deleteById","delete","CidadesService"],"sources":["C:/Users/godoi/OneDrive/Documents/projetos-front-end/new_fe_hp_game/src/shared/services/api/cidades/CidadesService.ts"],"sourcesContent":["import { Enviroment } from '../../../environment';\r\nimport { Api } from '../axios-config';\r\n\r\nexport interface IListagemCidade {\r\n  id: number;\r\n  nome: string;\r\n}\r\n\r\nexport interface IDetalheCidade {\r\n  id: number;\r\n  nome: string;\r\n}\r\n\r\ntype TCidadesComTotalCount = {\r\n  data: IListagemCidade[];\r\n  totalCount: number;\r\n};\r\n\r\nconst getAll = async (\r\n  page = 1,\r\n  filter = ''\r\n): Promise<TCidadesComTotalCount | Error> => {\r\n  try {\r\n    const urlRelativa = `/cidades?_page=${page}&_limit=${Enviroment.LIMITE_DE_LINHAS}&nome_like=${filter}`;\r\n    const { data, headers } = await Api.get(urlRelativa);\r\n\r\n    if (data) {\r\n      return {\r\n        data,\r\n        totalCount: headers['x-total-count']\r\n          ? Number(headers['x-total-count'])\r\n          : 0,\r\n      };\r\n    }\r\n    return new Error('Erro ao consultar o getAll.');\r\n  } catch (error) {\r\n    console.error(error);\r\n    return new Error(\r\n      (error as { message: string }).message || 'Erro ao consultar o getAll: '\r\n    );\r\n  }\r\n};\r\n\r\nconst getById = async (id: number): Promise<IDetalheCidade | Error> => {\r\n  try {\r\n    const urlRelativa = `/cidades/${id}`;\r\n    const { data } = await Api.get(urlRelativa);\r\n\r\n    if (data) {\r\n      return data;\r\n    }\r\n\r\n    return new Error('Erro ao consultar via getById.');\r\n  } catch (error) {\r\n    console.error(error);\r\n    return new Error(\r\n      (error as { message: string }).message || 'Erro ao consultar via getById.'\r\n    );\r\n  }\r\n};\r\n\r\nconst create = async (\r\n  dados: Omit<IDetalheCidade, 'id'>\r\n): Promise<number | Error> => {\r\n  try {\r\n    const { data } = await Api.post<IDetalheCidade>('/cidades', dados);\r\n\r\n    if (data) {\r\n      return data.id;\r\n    }\r\n    return new Error('Erro ao criar o registro.');\r\n  } catch (error) {\r\n    console.error(error);\r\n    return new Error(\r\n      (error as { message: string }).message || 'Erro ao criar o registro.'\r\n    );\r\n  }\r\n};\r\nconst updateById = async (\r\n  id: number,\r\n  dados: IDetalheCidade\r\n): Promise<void | Error> => {\r\n  try {\r\n    const urlRelativa = `/cidades/${id}`;\r\n    await Api.put(urlRelativa, dados);\r\n  } catch (error) {\r\n    console.error(error);\r\n    return new Error(\r\n      (error as { message: string }).message || 'Erro ao atualizar registro.'\r\n    );\r\n  }\r\n};\r\nconst deleteById = async (id: number): Promise<void | Error> => {\r\n  try {\r\n    const urlRelativa = `/cidades/${id}`;\r\n    await Api.delete(urlRelativa);\r\n  } catch (error) {\r\n    console.error(error);\r\n    return new Error(\r\n      (error as { message: string }).message || 'Erro ao excluir registro.'\r\n    );\r\n  }\r\n};\r\nexport const CidadesService = {\r\n  getAll,\r\n  getById,\r\n  create,\r\n  updateById,\r\n  deleteById,\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}