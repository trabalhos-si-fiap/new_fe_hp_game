{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\godoi\\\\OneDrive\\\\Documents\\\\projetos-front-end\\\\new_fe_hp_game\\\\src\\\\shared\\\\components\\\\login\\\\Login.tsx\",\n  _s = $RefreshSig$();\nimport { Box, Button, Card, CardActions, CardContent, CircularProgress, TextField, Typography } from '@mui/material';\nimport { useAuthContext } from '../../contexts';\nimport { useState } from 'react';\nimport * as yup from 'yup';\nimport '../../../shared/forms/TraducoesYup';\nimport { Fragment as _Fragment, jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst loginSchema = yup.object().shape({\n  email: yup.string().required().email(),\n  password: yup.string().required().min(8)\n});\nexport const Login = ({\n  children\n}) => {\n  _s();\n  const {\n    isAuthenticated,\n    login\n  } = useAuthContext();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [emailError, setEmailError] = useState('');\n  const [passwordError, setPasswordError] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const handleSubmit = () => {\n    setIsLoading(true);\n    loginSchema.validate({\n      email,\n      password\n    }, {\n      abortEarly: false\n    }).then(dadosValidados => {\n      login(dadosValidados.email, dadosValidados.password).then(() => {\n        setIsLoading(false);\n      });\n    }).catch(errors => {\n      setIsLoading(false);\n      errors.inner.forEach(error => {\n        if (error.path === 'email') {\n          setEmailError(error.message);\n        } //erros de senha\n        setPasswordError(error.message);\n      });\n    });\n  };\n  if (isAuthenticated) return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: children\n  }, void 0, false);\n  return /*#__PURE__*/_jsxDEV(Box, {\n    width: \"100vw\",\n    height: \"100vh\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      children: [/*#__PURE__*/_jsxDEV(CardContent, {\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          display: \"flex\",\n          flexDirection: \"column\",\n          gap: 2,\n          width: 250,\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h4\",\n            textAlign: \"center\",\n            children: \"Entrar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            fullWidth: true,\n            label: \"Email\",\n            type: \"email\",\n            value: email,\n            disabled: isLoading,\n            error: !!emailError,\n            helperText: emailError,\n            onChange: e => setEmail(e.target.value),\n            onKeyDown: e => setEmailError('')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            fullWidth: true,\n            label: \"Senha\",\n            type: \"password\",\n            value: password,\n            disabled: isLoading,\n            error: !!passwordError,\n            helperText: passwordError,\n            onChange: e => setPassword(e.target.value),\n            onKeyDown: e => setPasswordError('')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CardActions, {\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          width: \"100%\",\n          display: \"flex\",\n          justifyContent: \"center\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            disabled: isLoading,\n            variant: \"contained\",\n            onClick: handleSubmit,\n            endIcon: isLoading && /*#__PURE__*/_jsxDEV(CircularProgress, {\n              variant: \"indeterminate\",\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 19\n            }, this),\n            children: \"Entrar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n};\n_s(Login, \"Xry2UW3nxSwBwUWxQAP7g/HR92I=\", false, function () {\n  return [useAuthContext];\n});\n_c = Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["Box","Button","Card","CardActions","CardContent","CircularProgress","TextField","Typography","useAuthContext","useState","yup","Fragment","_Fragment","jsxDEV","_jsxDEV","loginSchema","object","shape","email","string","required","password","min","Login","children","_s","isAuthenticated","login","setEmail","setPassword","emailError","setEmailError","passwordError","setPasswordError","isLoading","setIsLoading","handleSubmit","validate","abortEarly","then","dadosValidados","catch","errors","inner","forEach","error","path","message","width","height","display","alignItems","justifyContent","flexDirection","gap","variant","textAlign","fileName","_jsxFileName","lineNumber","columnNumber","fullWidth","label","type","value","disabled","helperText","onChange","e","target","onKeyDown","onClick","endIcon","size","_c","$RefreshReg$"],"sources":["C:/Users/godoi/OneDrive/Documents/projetos-front-end/new_fe_hp_game/src/shared/components/login/Login.tsx"],"sourcesContent":["import {\r\n  Box,\r\n  Button,\r\n  Card,\r\n  CardActions,\r\n  CardContent,\r\n  CircularProgress,\r\n  TextField,\r\n  Typography,\r\n} from '@mui/material';\r\nimport { useAuthContext } from '../../contexts';\r\nimport { useState } from 'react';\r\nimport * as yup from 'yup';\r\nimport '../../../shared/forms/TraducoesYup';\r\n\r\ninterface ILoginProps {\r\n  children: React.ReactNode;\r\n}\r\n\r\nconst loginSchema = yup.object().shape({\r\n  email: yup.string().required().email(),\r\n  password: yup.string().required().min(8),\r\n});\r\n\r\nexport const Login: React.FC<ILoginProps> = ({ children }) => {\r\n  const { isAuthenticated, login } = useAuthContext();\r\n\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n\r\n  const [emailError, setEmailError] = useState('');\r\n  const [passwordError, setPasswordError] = useState('');\r\n\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const handleSubmit = () => {\r\n    setIsLoading(true);\r\n    loginSchema\r\n      .validate({ email, password }, { abortEarly: false })\r\n      .then((dadosValidados) => {\r\n        login(dadosValidados.email, dadosValidados.password).then(() => {\r\n          setIsLoading(false);\r\n        });\r\n      })\r\n      .catch((errors: yup.ValidationError) => {\r\n        setIsLoading(false);\r\n        errors.inner.forEach((error) => {\r\n          if (error.path === 'email') {\r\n            setEmailError(error.message);\r\n          } //erros de senha\r\n          setPasswordError(error.message);\r\n        });\r\n      });\r\n  };\r\n\r\n  if (isAuthenticated) return <>{children}</>;\r\n\r\n  return (\r\n    <Box\r\n      width='100vw'\r\n      height='100vh'\r\n      display='flex'\r\n      alignItems='center'\r\n      justifyContent='center'\r\n    >\r\n      <Card>\r\n        <CardContent>\r\n          <Box\r\n            display='flex'\r\n            flexDirection='column'\r\n            gap={2}\r\n            width={250}\r\n          >\r\n            <Typography\r\n              variant='h4'\r\n              textAlign='center'\r\n            >\r\n              Entrar\r\n            </Typography>\r\n            <TextField\r\n              fullWidth\r\n              label='Email'\r\n              type='email'\r\n              value={email}\r\n              disabled={isLoading}\r\n              error={!!emailError}\r\n              helperText={emailError}\r\n              onChange={(e) => setEmail(e.target.value)}\r\n              onKeyDown={(e) => setEmailError('')}\r\n            />\r\n            <TextField\r\n              fullWidth\r\n              label='Senha'\r\n              type='password'\r\n              value={password}\r\n              disabled={isLoading}\r\n              error={!!passwordError}\r\n              helperText={passwordError}\r\n              onChange={(e) => setPassword(e.target.value)}\r\n              onKeyDown={(e) => setPasswordError('')}\r\n            />\r\n          </Box>\r\n        </CardContent>\r\n        <CardActions>\r\n          <Box\r\n            width='100%'\r\n            display='flex'\r\n            justifyContent='center'\r\n          >\r\n            <Button\r\n              disabled={isLoading}\r\n              variant='contained'\r\n              onClick={handleSubmit}\r\n              endIcon={\r\n                isLoading && (\r\n                  <CircularProgress\r\n                    variant='indeterminate'\r\n                    size={20}\r\n                  />\r\n                )\r\n              }\r\n            >\r\n              Entrar\r\n            </Button>\r\n          </Box>\r\n        </CardActions>\r\n      </Card>\r\n    </Box>\r\n  );\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}